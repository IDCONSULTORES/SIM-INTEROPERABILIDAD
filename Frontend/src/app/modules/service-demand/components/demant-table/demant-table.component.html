<div class="white-cnt table-bg">
  
  <div *ngIf="tab1===0" class="button-container">
    <p class="control has-icons-left mb-0">
      <input
        class="input action-input"
        type="text"
        placeholder="Buscar servicios por dirección y/o nombres"
        (keyup)="applyFilter2($event)"
      />
      <span class="icon is-small is-left">
        <search-icon-offer></search-icon-offer>
      </span>
    </p>
  </div>

  <app-skeleton-loading *ngIf="loadingData"></app-skeleton-loading>
  <div id="demand-table" class="table-cnt">
    <table class="general-table" mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="layerName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Capa <mat-icon>unfold_more</mat-icon>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-elem">
            <div class="cell-elem-text">
              {{ element.layerName }}
            </div>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="geometry">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Tipo <mat-icon>unfold_more</mat-icon>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-elem">
            <div class="cell-elem-text">
              {{ element.geometry }}
            </div>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="ogcService">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Servicio <mat-icon>unfold_more</mat-icon>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-elem">
            <div class="cell-elem-text">
              {{ element.ogcService }}
            </div>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="reference">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Proyección <mat-icon>unfold_more</mat-icon>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-elem">
            <div class="cell-elem-text">
              {{ element.reference }}
            </div>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="frequency">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Periodicidad <mat-icon>unfold_more</mat-icon>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-elem">
            <div class="cell-elem-text">
              {{ element.frequency | frequency }}
            </div>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="createBy">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Usuario Crea <mat-icon>unfold_more</mat-icon>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-elem">
            <div class="cell-elem-text">
              {{ element.createBy }}
            </div>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="startDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Fecha Crea <mat-icon>unfold_more</mat-icon>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-elem">
            <div class="cell-elem-text">
              {{ element.startDate | pipeGMT5 : 'MMM d, y'  }}
            </div>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="endDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Fecha Fin <mat-icon>unfold_more</mat-icon>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-elem">
            <div class="cell-elem-text">
              {{ element.endDate | pipeGMT5 : 'MMM d, y'}}
            </div>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="synchroType">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Tipo de Sincronización <mat-icon>unfold_more</mat-icon>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-elem">
            <div class="cell-elem-text">
              {{ element.synchroType }}
            </div>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="percent">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          % Coincidencia <mat-icon>unfold_more</mat-icon>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-elem">
            <div class="cell-elem-text">
              {{ element.percent }}
            </div>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="accion">
        <th mat-header-cell *matHeaderCellDef>Acciones</th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-elem">
            <div class="cell-elem-text">
              <div class="is-flex is-action">
                <!-- <check-icon class="icon"></check-icon> -->
                <world-icon class="icon" (click)="createService(element)"></world-icon>
                <edit-icon class="icon" (click)="editSchedule(element)"></edit-icon>
                <delete-icon
                  class="icon"
                  (click)="deleteService(element.ID)"
                ></delete-icon>
              </div>
            </div>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr
        mat-row
        *matRowDef="let element; columns: displayedColumns; let i = index"
      ></tr>
    </table>
  </div>
</div>
