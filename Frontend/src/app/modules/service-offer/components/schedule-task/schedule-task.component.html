<div class="header">
  <h2 class="header__title" mat-dialog-title>Programar Tarea</h2>
  <mat-icon mat-dialog-close class="close-icon" type="button">close</mat-icon>
</div>
<app-skeleton-loading *ngIf="loadingData"></app-skeleton-loading>
<mat-dialog-content> 
  
  <form class="form" [formGroup]="taskForm" (ngSubmit)="onSubmit()">
    <div class="fields-group">
      <div class="field">
        <div class="control">
          <input [value]="this.data.name" type="text" placeholder="Nombre de la tabla" />
        </div>
      </div>
      <div class="field">
        <div class="control">
          <div class="select">
            <select id="sincronizador" formControlName = "synchroType" (change)="changeSelector()" id="sincronizador">
              <option value="">Tipo de sincronización (*)</option>
              <option>Programada</option>
              <option>Inmediata</option>
            </select>
          </div>
        </div>
      </div>
    </div>
    <div class="fields-group">
      <div class="field">
        <div class="control">
          <div class="select">
            <select formControlName = "frequency" id="frecuencia">
              <option value="">Frecuencia</option>
              <option value="daily">Diaria</option>
              <option value="weekly">Semanal</option>
              <option value="biweekly">Quincenal</option>
              <option value="monthly">Mensual</option>
              <option value="annual">Anual</option>
            </select>
          </div>
        </div>
      </div>
    </div>
    <div class="fields-group">
      <div class="field">
        <div class="control">
          <input formControlName = "startDate" type="date" placeholder="Fecha de inicio" />
          <div style="color: red;" *ngIf="taskForm.get('startDate')?.hasError('fechaInvalida')">
            La fecha de inicio debe ser anterior a la fecha de fin.
          </div>
        </div>
      </div>
      <div class="field">
        <div class="control">
          <input formControlName = "endDate" id="fin" type="date" placeholder="Fecha de fin" />
        </div>
      </div>
      <div class="field">
        <div class="control">
          <div class="select">
            <select formControlName = "day" id="dia">
              <option value="">Día</option>
              <option [value]="i.dayOfWeek" *ngFor="let i of days">{{i.dayOfWeek | days}}</option>
              
            </select>
          </div>
        </div>
      </div>
    </div>
    <div class="fields-group">
      <div class="field is-border p-3">
        <p class="mb-0">
          <b>Programada,</b> permite crear tablas en base a la fecha de
          sincronización.
        </p>
      </div>
      <div class="field is-border p-3">
        <p class="mb-0">
          <b>Inmediata,</b> permite la revisión de datos y determina nuevos
          registros, duplicados y eliminados.
        </p>
      </div>
    </div>
    <div class="fields-group">
      <div class="field">
        <div class="control">
          <div class="select">
            <select formControlName = "percent">
              <option value=110>% de coincidencia mayor o igual a:</option>
              <option value=100>100%</option>
              <option value=80>80%</option>
              <option value=70>70%</option>
              <option value=60>60%</option>
              <option value=50>50%</option>
              <option value=40>40%</option>
              <option value=30>30%</option>
              <option value=20>20%</option>
              <option value=10>10%</option>
              <option value=0>0%</option>
            </select>
          </div>
        </div>
      </div>
      <div class="field"></div>
    </div>
    <div class="buttons">
      <button class="is-primary-button">Guardar</button>
    </div>
  </form>
</mat-dialog-content>
