<main>
  <h1 class="main__title">Usuarios Registrados</h1>
  <div class="cuerpo">
    <div class="table-container">
      <div class="table-bg">
        <div class="table-cnt">
          <table
            class="general-table"
            mat-table
            [dataSource]="dataSource"
            matSort
            (matSortChange)="onSortChange($event)"
          >
            <ng-container matColumnDef="order">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Orden <mat-icon>swap_vert</mat-icon>
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element.id }}
              </td>
            </ng-container>

            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Nombres <mat-icon>swap_vert</mat-icon>
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element.name }}
              </td>
            </ng-container>

            <ng-container matColumnDef="lastName">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Apellido <mat-icon>swap_vert</mat-icon>
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element.lastName }}
              </td>
            </ng-container>

            <ng-container matColumnDef="dni">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                DNI <mat-icon>swap_vert</mat-icon>
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element.identificationNumber }}
              </td>
            </ng-container>

            <ng-container matColumnDef="phone">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Teléfono <mat-icon>swap_vert</mat-icon>
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element.phone }}
              </td>
            </ng-container>

            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Correo <mat-icon>swap_vert</mat-icon>
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element.email }}
              </td>
            </ng-container>

            <ng-container matColumnDef="institution">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Institución <mat-icon>swap_vert</mat-icon>
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element.institutionName }}
              </td>
            </ng-container>

            <ng-container matColumnDef="institutionType">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Tipo de Institución <mat-icon>swap_vert</mat-icon>
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element.institutionType }}
              </td>
            </ng-container>

            <ng-container matColumnDef="region">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Región <mat-icon>swap_vert</mat-icon>
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element.region }}
              </td>
            </ng-container>

            <ng-container matColumnDef="donwload">
              <th mat-header-cell *matHeaderCellDef style="min-width: 60px">
                Eliminar
              </th>
              <td mat-cell *matCellDef="let element">
                <button
                  class="is-clear-button"
                  (click)="
                    showConfirmationModalToRevocatePermissions(
                      $event,
                      element.id
                    )
                  "
                >
                  <mat-icon [ngStyle]="{ color: 'var(--primary-color)' }"
                    >delete</mat-icon
                  >
                </button>
              </td>
            </ng-container>

            <tr
              mat-header-row
              *matHeaderRowDef="displayedColumns; sticky: true"
            ></tr>
            <tr
              mat-row
              *matRowDef="let row; columns: displayedColumns"
              (click)="editRow(row)"
            ></tr>
          </table>
        </div>
      </div>
    </div>
  </div>

</main>
